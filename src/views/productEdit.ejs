<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('partials/head') %>
</head>

<body style="background-color: rgb(228, 228, 228);">
    <%- include('partials/header') %>
        <main class="container">
            <div class="row mb-3">
                <div class="col-12 col-md-8 mx-auto mt-5">
                    <div class="card shadow">
                        <div class="card-header">
                            <h4 class="card-title">Editar producto: <i>
                                    <%= name %>
                                </i> </h4>
                        </div>
                        <div class="card-body">
                            <form action="/products/edit/<%= id %>?_method=PUT" method="POST" class="row"
                                enctype="multipart/form-data">
                                <div class="col-12 col-md-4 mb-3">
                                    <img class="img-fluid border border-danger-subtle" style="height: 190px;"
                                        src="/img/<%= image %>" alt="">
                                </div>
                                <div
                                    class="col-12 col-md-8 mb-3 d-inline-flex align-items-center align-content-start gap-2 justify-content-between justify-content-md-start flex-wrap">
                                    <div class="col-12 mb-3">
                                        <input type="checkbox" checked value="true" class="form-check-input me-2"
                                            name="rememberImg" id="rememberImg">
                                        <label for="rememberImg" class="form-label">Conservar imagenes
                                            secundarias</label>
                                    </div>
                                    <%if(images.length){%>
                                        <% images.forEach((img)=> { %>
                                            <img class="img-fluid border border-primary-subtle img-secondary-product-edit"
                                                style="width: 70px; object-fit: contain;height: 70px;"
                                                src="/img/<%= img %>" alt="">
                                            <%})%>
                                                <%}else{%>
                                                    <h4>No hay imagenes secundarias</h4>
                                                    <%}%>
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="name" class="form-label">Nombre del producto</label>
                                    <input type="text" class="form-control" id="name" name="name" value="<%= name %>">
                                </div>

                                <div class="col-12 col-md-6 mb-3">
                                    <label for="category" class="form-label">Categoría</label>
                                    <select class="form-select" name="category" value="<%= category %>" id="category">
                                        <option selected hidden>
                                            <%= category %>
                                        </option>
                                        <option value="1"></option>
                                        <option value="2"></option>
                                        <option value="3"></option>
                                    </select>
                                </div>

                                <div class="col-12 col-md-6 mb-3">
                                    <label for="price" class="form-label">Precio</label>
                                    <input type="number" class="form-control" id="price" name="price"
                                        value="<%= price %>">
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="discount" class="form-label">Descuento</label>
                                    <input type="number" class="form-control" id="discount" name="discount"
                                        value="<%= discount %>">
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="color" class="form-label">Color</label>
                                    <div class="col-12 col-md-6 input-group">
                                        <span class="input-group-text p-0" id="basic-addon1">
                                            <input class="form-control-sm form-control-color border-0 bg-transparent"
                                                type="color" name="hexColor" value="<%= color.hex %>">
                                        </span>
                                        <input class="form-control" type="text" name="textColor" id="textColor"
                                            value="<%= color.text %>">
                                    </div>
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="stock" class="form-label">Stock</label>
                                    <input type="number" class="form-control" id="stock" name="stock"
                                        value="<%= stock %>">
                                </div>
                                <div class="col-12 row">
                                    <div class="col-4">
                                        <div
                                            style="width: 70px;height: 70px;border:1px solid rgb(198, 197, 197);margin: 5px auto;">
                                            <img src="/img/default-image.png" style="height: 100%; object-fit: contain;"
                                                alt="">
                                        </div>
                                        <label for="image" class="btn btn-danger w-100 mb-3">
                                            <span><i class="fa-solid fa-file-arrow-up fs-4 me-1"></i></span>
                                            Imagen Principal</label>
                                        <input type="file" name="image" id="image" class="d-none">
                                    </div>

                                    <div class="col-8">
                                        <div class="d-flex justify-content-between gap-2">
                                            <div
                                                style="width: 70px;height: 70px;border:1px solid rgb(198, 197, 197);margin: 5px auto;">
                                                <img src="/img/default-image.png"
                                                    style="height: 100%; object-fit: contain;" alt="">
                                            </div>
                                            <div
                                                style="width: 70px;height: 70px;border:1px solid rgb(198, 197, 197);margin: 5px auto;">
                                                <img src="/img/default-image.png"
                                                    style="height: 100%; object-fit: contain;" alt="">
                                            </div>
                                            <div
                                                style="width: 70px;height: 70px;border:1px solid rgb(198, 197, 197);margin: 5px auto;">
                                                <img src="/img/default-image.png"
                                                    style="height: 100%; object-fit: contain;" alt="">
                                            </div>
                                            <div
                                                style="width: 70px;height: 70px;border:1px solid rgb(198, 197, 197);margin: 5px auto;">
                                                <img src="/img/default-image.png"
                                                    style="height: 100%; object-fit: contain;" alt="">
                                            </div>
                                            <div
                                                style="width: 70px;height: 70px;border:1px solid rgb(198, 197, 197);margin: 5px auto;">
                                                <img src="/img/default-image.png"
                                                    style="height: 100%; object-fit: contain;" alt="">
                                            </div>
                                            <div
                                                style="width: 70px;height: 70px;border:1px solid rgb(198, 197, 197);margin: 5px auto;">
                                                <img src="/img/default-image.png"
                                                    style="height: 100%; object-fit: contain;" alt="">
                                            </div>

                                        </div>
                                        <label for="images" class="btn btn-primary mb-3 w-100">
                                            <span><i class="fa-solid fa-file-arrow-up fs-4 me-1"></i></span>
                                            Imagenes Secundarias</label>
                                        <input type="file" name="images" id="images" class="d-none" multiple>
                                    </div>
                                    <div class="col-12 mb-3">
                                        <label for="description" class="form-label">Descripción</label>
                                        <textarea name="description" id="description" class="form-control"
                                            style="resize: none;"><%= description %></textarea>
                                    </div>
                                    <div class="col-12 d-flex justify-content-between gap-2 mb-3">
                                        <label for="submit" class="btn btn-primary">Guardar cambios</label>
                                        <input type="submit" name="submit" id="submit" hidden>
                                        <label for="delete-image" class="btn btn-danger">Eliminar</label>
                                        <input type="file" name="delete-image" id="delete-image" hidden>
                                    </div>
                            </form>
                        </div>

                    </div>
                </div>
            </div>
        </main>
</body>

</html>